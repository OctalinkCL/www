---
import OctalinkLogo from "../../assets/octalink.svg";
import { ArrowRight, Menu, X } from "@lucide/astro";

const navLinks = [
  { href: "#modelo", label: "Modelo" },
  { href: "#servicios", label: "Servicios" },
  { href: "#faq", label: "FAQ" },
];
---

<header class="fixed w-full z-50 top-0 left-0 right-0">
  <nav class="px-4 py-4 md:px-6 md:py-5">
    <div class="wrapper">
      <div class="glass-dark rounded-2xl px-4 py-3 md:px-6 md:py-4">
        <div class="flex justify-between items-center">
          <!-- Logo -->
          <a href="/" class="flex items-center gap-3">
            <img src={OctalinkLogo.src} alt="Octalink" class="h-6 md:h-7" />
          </a>

          <!-- Desktop Nav -->
          <div class="hidden md:flex items-center gap-8">
            {navLinks.map((link) => (
              <a 
                href={link.href} 
                class="text-sm text-neutral-400 hover:text-white transition-colors duration-300"
              >
                {link.label}
              </a>
            ))}
          </div>

          <!-- CTA Button -->
          <div class="flex items-center gap-3">
            <a
              class="btn-pill"
              href="https://wa.me/56932393772?text=Hola,%20quiero%20evaluar%20mi%20infraestructura."
              target="_blank"
            >
              <span>Hablemos</span>
              <span class="icon">
                <ArrowRight size={16} />
              </span>
            </a>

            <!-- Mobile Menu Button -->
            <button 
              id="mobile-menu-btn"
              class="md:hidden p-2 text-neutral-400 hover:text-white transition-colors"
              aria-label="Menu"
            >
              <Menu size={24} id="menu-icon" />
              <X size={24} id="close-icon" class="hidden" />
            </button>
          </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden mt-4 pt-4 border-t border-white/10">
          <div class="flex flex-col gap-3">
            {navLinks.map((link) => (
              <a 
                href={link.href} 
                class="text-sm text-neutral-400 hover:text-white transition-colors duration-300 py-2"
              >
                {link.label}
              </a>
            ))}
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>

<script>
  const menuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuIcon = document.getElementById('menu-icon');
  const closeIcon = document.getElementById('close-icon');

  menuBtn?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
    menuIcon?.classList.toggle('hidden');
    closeIcon?.classList.toggle('hidden');
  });

  // Close menu when clicking a link
  mobileMenu?.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu?.classList.add('hidden');
      menuIcon?.classList.remove('hidden');
      closeIcon?.classList.add('hidden');
    });
  });
</script>
